"use strict";(self.webpackChunkcatenax_ng=self.webpackChunkcatenax_ng||[]).push([[3378],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>u});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),d=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=d(e.components);return n.createElement(p.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),m=d(a),u=r,k=m["".concat(p,".").concat(u)]||m[u]||s[u]||l;return a?n.createElement(k,i(i({ref:t},c),{},{components:a})):n.createElement(k,i({ref:t},c))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=m;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var d=2;d<l;d++)i[d]=a[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},4995:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>s,frontMatter:()=>l,metadata:()=>o,toc:()=>d});var n=a(7462),r=(a(7294),a(3905));const l={title:"Naming Convention"},i=void 0,o={unversionedId:"internal/naming-convention",id:"internal/naming-convention",title:"Naming Convention",description:"This is a first proposal what topics will be handled by this naming convention.",source:"@site/docs/internal/naming-convention.md",sourceDirName:"internal",slug:"/internal/naming-convention",permalink:"/docs/internal/naming-convention",draft:!1,editUrl:"https://github.com/catenax-ng/catenax-ng.github.io/edit/main/docs/internal/naming-convention.md",tags:[],version:"current",frontMatter:{title:"Naming Convention"},sidebar:"tutorialSidebar",previous:{title:"How To Use HashiCorp Vault",permalink:"/docs/internal/how-to-use-vault"},next:{title:"Central Github Checks",permalink:"/docs/github-checks"}},p={},d=[{value:"To Discuss",id:"to-discuss",level:2},{value:"General",id:"general",level:2},{value:"Do&#39;s",id:"dos",level:3},{value:"Dont&#39;s",id:"donts",level:3},{value:"Known Products",id:"known-products",level:2},{value:"GitHub",id:"github",level:2},{value:"Definition",id:"definition",level:3},{value:"Examples",id:"examples",level:3},{value:"Vault",id:"vault",level:2},{value:"Definition",id:"definition-1",level:3},{value:"Examples",id:"examples-1",level:3},{value:"ArgoCD",id:"argocd",level:2},{value:"Definition",id:"definition-2",level:3},{value:"Examples",id:"examples-2",level:3},{value:"ArgoCD Project And Kubernetes Namespace",id:"argocd-project-and-kubernetes-namespace",level:4},{value:"ArgoCD Cluster Secret",id:"argocd-cluster-secret",level:4}],c={toc:d};function s(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"This is a first proposal what topics will be handled by this naming convention.")),(0,r.kt)("h2",{id:"to-discuss"},"To Discuss"),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Please use this section for brainstorming open topics or issues where we have to come to a decision.")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"How to handle teams which:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Requests more than one repository. How to identify those repos?"),(0,r.kt)("li",{parentName:"ul"},"Or shall be a seperate product (team) created for this purpose?"))),(0,r.kt)("li",{parentName:"ul"},"Add your open topics here")),(0,r.kt)("h2",{id:"general"},"General"),(0,r.kt)("p",null,"In general terms we are talking about products, not about teams. A team might change, the product will\nstay. This means the product (e.g. ",(0,r.kt)("em",{parentName:"p"},"EDC"),") is in focus for naming instead of the team, which is developing the product."),(0,r.kt)("p",null,"For any naming lowercase is used over UPPERCASE."),(0,r.kt)("h3",{id:"dos"},"Do's"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Use lowercase"),(0,r.kt)("li",{parentName:"ul"},"Use full name over shortcuts"),(0,r.kt)("li",{parentName:"ul"},"Provide descriptions, e.g. for GitHub Teams or Repositories")),(0,r.kt)("h3",{id:"donts"},"Dont's"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"shortcut instead of full name",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"exception:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"when product name would be too long"),(0,r.kt)("li",{parentName:"ul"},"when talking about a well known shortcut (e.g. ",(0,r.kt)("em",{parentName:"li"},"edc"),")")))))),(0,r.kt)("h2",{id:"known-products"},"Known Products"),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"To be removed from document in future .")),(0,r.kt)("p",null,"Known products as of now are (extract of existing GitHub teams, incl. example and test teams):"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"ArgoCDAdmins"),(0,r.kt)("li",{parentName:"ul"},"cx-core-schemas"),(0,r.kt)("li",{parentName:"ul"},"product-bpdm"),(0,r.kt)("li",{parentName:"ul"},"product-bpdm-vas"),(0,r.kt)("li",{parentName:"ul"},"product-catenax-at-home"),(0,r.kt)("li",{parentName:"ul"},"product-data-format-transformer"),(0,r.kt)("li",{parentName:"ul"},"product-data-integrity-demonstrator"),(0,r.kt)("li",{parentName:"ul"},"product-dft"),(0,r.kt)("li",{parentName:"ul"},"product-edc"),(0,r.kt)("li",{parentName:"ul"},"product-esc-backbone"),(0,r.kt)("li",{parentName:"ul"},"product-essential-services"),(0,r.kt)("li",{parentName:"ul"},"product-integrity-demonstrator"),(0,r.kt)("li",{parentName:"ul"},"product-managed-identity-wallets"),(0,r.kt)("li",{parentName:"ul"},"product-material-pass"),(0,r.kt)("li",{parentName:"ul"},"product-portal"),(0,r.kt)("li",{parentName:"ul"},"product-semantics"),(0,r.kt)("li",{parentName:"ul"},"product-team-example"),(0,r.kt)("li",{parentName:"ul"},"product-test-data-generator"),(0,r.kt)("li",{parentName:"ul"},"product-traceability-dft"),(0,r.kt)("li",{parentName:"ul"},"product-traceability-irs"),(0,r.kt)("li",{parentName:"ul"},"rbac-tests"),(0,r.kt)("li",{parentName:"ul"},"team-hello-gitops"),(0,r.kt)("li",{parentName:"ul"},"team-security")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Currently, there are some teams that doesn't apply to this naming convention.")),(0,r.kt)("h2",{id:"github"},"GitHub"),(0,r.kt)("h3",{id:"definition"},"Definition"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Item"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Naming Convention"),(0,r.kt)("th",{parentName:"tr",align:null},"Additional description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Team"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("em",{parentName:"td"},"product-productName")),(0,r.kt)("td",{parentName:"tr",align:null},"Shall not contain shortcuts")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Repository"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("em",{parentName:"td"},"product-productName")),(0,r.kt)("td",{parentName:"tr",align:null},"Shall not contain shortcuts")))),(0,r.kt)("h3",{id:"examples"},"Examples"),(0,r.kt)("p",null,"tbd."),(0,r.kt)("h2",{id:"vault"},"Vault"),(0,r.kt)("h3",{id:"definition-1"},"Definition"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Item"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Naming Convention"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Additional descr."))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Secret Engine"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("em",{parentName:"td"},"productName")),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"AppRole"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("em",{parentName:"td"},"productName")),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Policy"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("em",{parentName:"td"},"productName-rw")),(0,r.kt)("td",{parentName:"tr",align:"left"},"for personal usage, e.g GitHub or OIDClogin")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Policy"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("em",{parentName:"td"},"productName-ro")),(0,r.kt)("td",{parentName:"tr",align:"left"},"for AppRole usage with only read permissions granted")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Secret"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("em",{parentName:"td"},"productName-deploy-key")),(0,r.kt)("td",{parentName:"tr",align:"left"},"SSH private key (GitHub deploy key -> ",(0,r.kt)("a",{parentName:"td",href:"/docs/guides/how-to-prepare-a-private-repo"},"docu"),")")))),(0,r.kt)("h3",{id:"examples-1"},"Examples"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# Enable Secret Engine\n$ vault secrets enable -version=2 -path=productName kv\nSuccess! Enabled the kv secrets engine at: productName/\n\n# Create AppRole \n$ vault write auth/approle/role/productName \\\n    secret_id_ttl=10m \\\n    token_num_uses=10 \\\n    token_ttl=20m \\\n    token_max_ttl=30m \\\n    secret_id_num_uses=40\nSuccess! Data written to: auth/approle/role/productName\n\n# List existing AppRole definitions\n$ vault list auth/approle/role\nKeys\n----\nAppRole1\nAppRole2\nAppRole3\n\n# Issue Secret Id for Approle (listed secret_id and secret_id_accessor doesn't exist)\n$ vault write -f auth/approle/role/productName/secret-id\nKey                   Value\n---                   -----\nsecret_id             d8ff2be9-1ecb-4481-bfae-21071baf42c1\nsecret_id_accessor    701e38a4-408d-4db0-94cc-3166c7277daa\nsecret_id_ttl         10m\n\n# Read AppRole Id (listed role_id doesn't exist)\n$ vault read auth/approle/role/productName/role-id\nKey        Value\n---        -----\nrole_id    89dd5e0d-2991-4d0c-bb1a-a8b12ee7228f\n\n# Create Policy (policy will be read from file full_policy.hcl)\n$ vault policy write policy-full-productName full_policy.hcl \nSuccess! Uploaded policy: productName-rw\n\n# Create Policy (policy will be read from file full_policy.hcl)\n$ vault policy write policy-read-productName read_policy.hcl\nSuccess! Uploaded policy: productName-ro\n\n# Create GitHub auth mapping (with policy)\n$ vault write auth/github/map/teams/productName value=productName-rw\nSuccess! Data written to: auth/github/map/teams/productName\n")),(0,r.kt)("h2",{id:"argocd"},"ArgoCD"),(0,r.kt)("h3",{id:"definition-2"},"Definition"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Item"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Naming Convention"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Additional description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Kubernetes Namespace"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("em",{parentName:"td"},"product-productName")),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"ArgoCD Project Name"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("em",{parentName:"td"},"project-productName")),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"ArgoCD Cluster Secret Name"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("em",{parentName:"td"},"clusterName-cluster-secret")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Representing the k8s secret name")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"ArgoCD Child Cluster Name"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("em",{parentName:"td"},"clusterName")),(0,r.kt)("td",{parentName:"tr",align:"left"},"as of now, this is ",(0,r.kt)("em",{parentName:"td"},"dev"),", ",(0,r.kt)("em",{parentName:"td"},"core")," or ",(0,r.kt)("em",{parentName:"td"},"hotel-budapest"),". It might be later contain also ",(0,r.kt)("em",{parentName:"td"},"productName")," if a product will get its own cluster")))),(0,r.kt)("h3",{id:"examples-2"},"Examples"),(0,r.kt)("h4",{id:"argocd-project-and-kubernetes-namespace"},"ArgoCD Project And Kubernetes Namespace"),(0,r.kt)("p",null,"Each Catena-X product will get its own ArgoCD project and Kubernetes namespace at target cluster. Therefore, k8s namespace\nand ArgoCD project definition is handled within the same manifest file."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"apiVersion: v1\nkind: Namespace\nmetadata:\n  // highlight-next-line\n  name: product-[productName]\n---\napiVersion: argoproj.io/v1alpha1\nkind: AppProject\nmetadata:\n  // highlight-next-line\n  name: project-[productName]\n  namespace: argocd\nspec:\n  // highlight-next-line\n  description: Project for team [productName]\n  sourceRepos:\n    - '*'\n  destinations:\n    // highlight-next-line\n    - namespace: product-[productName]\n      server: https://kubernetes.default.svc\n  # Allow all namespaced-scoped resources to be created, except for ResourceQuota, LimitRange, NetworkPolicy\n  namespaceResourceBlacklist:\n    - group: ''\n      kind: ResourceQuota\n    - group: ''\n      kind: LimitRange\n   - group: ''\n      kind: NetworkPolicy\n  roles:\n    - name: team-admin\n      description: All access to applications inside project-bpdm. Read only on project itself\n      policies:\n      // highlight-next-line\n        - p, proj:project-[productName]:team-admin, applications, *, project-[productName]/*, allow\n      groups:\n        - catenax-ng:product-[productName]\n")),(0,r.kt)("h4",{id:"argocd-cluster-secret"},"ArgoCD Cluster Secret"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: v1\nkind: Secret\nmetadata:\n  annotations:\n    // highlight-next-line\n    avp.kubernetes.io/path: "devsecops/data/clusters/[clusterName]/k8s"\n  labels:\n    argocd.argoproj.io/secret-type: cluster\n    // highlight-next-line\n  name: [clusterName]-cluster-secret\ntype: Opaque\nstringData:\n  name: <name>\n  server: <server>\n  config: |\n    {\n      "bearerToken": "<bearerToken>",\n      "tlsClientConfig": {\n        "insecure": false,\n        "caData": "<caData>"\n      }\n    }\n')),(0,r.kt)("p",null,"The highlighted lines contains naming convention relevant placeholder ",(0,r.kt)("inlineCode",{parentName:"p"},"[clusterName]"),". This should be replaced by the\nnative cluster name, e.g. ",(0,r.kt)("em",{parentName:"p"},"core")," (for ArgoCD core cluster)."))}s.isMDXComponent=!0}}]);