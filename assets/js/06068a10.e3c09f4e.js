"use strict";(self.webpackChunkcatenax_ng=self.webpackChunkcatenax_ng||[]).push([[9628],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>u});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=r.createContext({}),d=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},s=function(e){var t=d(e.components);return r.createElement(p.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,p=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),m=d(n),u=a,g=m["".concat(p,".").concat(u)]||m[u]||c[u]||i;return n?r.createElement(g,l(l({ref:t},s),{},{components:n})):r.createElement(g,l({ref:t},s))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,l=new Array(i);l[0]=m;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:a,l[1]=o;for(var d=2;d<i;d++)l[d]=n[d];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6422:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>c,frontMatter:()=>i,metadata:()=>o,toc:()=>d});var r=n(7462),a=(n(7294),n(3905));const i={title:"TRG 5.06 - Chart Dependencies"},l=void 0,o={unversionedId:"trg/trg-5/trg-5-6",id:"trg/trg-5/trg-5-6",title:"TRG 5.06 - Chart Dependencies",description:"| Author               | Status | Created      | Post-History |",source:"@site/docs/trg/trg-5/trg-5-6.md",sourceDirName:"trg/trg-5",slug:"/trg/trg-5/trg-5-6",permalink:"/docs/trg/trg-5/trg-5-6",draft:!1,editUrl:"https://github.com/catenax-ng/catenax-ng.github.io/edit/main/docs/trg/trg-5/trg-5-6.md",tags:[],version:"current",frontMatter:{title:"TRG 5.06 - Chart Dependencies"},sidebar:"tutorialSidebar",previous:{title:"TRG 5.05 - Chart Values",permalink:"/docs/trg/trg-5/trg-5-5"},next:{title:"How To Onboard Product-Teams To Any Environment",permalink:"/docs/how-to-onboard-teams-to-any-environment"}},p={},d=[{value:"Description",id:"description",level:2},{value:"Helm dependency example",id:"helm-dependency-example",level:2},{value:"Installing a chart with dependencies",id:"installing-a-chart-with-dependencies",level:2},{value:"Aligning dependency versions",id:"aligning-dependency-versions",level:2}],s={toc:d};function c(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Author"),(0,a.kt)("th",{parentName:"tr",align:null},"Status"),(0,a.kt)("th",{parentName:"tr",align:null},"Created"),(0,a.kt)("th",{parentName:"tr",align:null},"Post-History"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Catena-X System Team"),(0,a.kt)("td",{parentName:"tr",align:null},"Draft"),(0,a.kt)("td",{parentName:"tr",align:null},"28-Nov-2022"),(0,a.kt)("td",{parentName:"tr",align:null},"n/a")))),(0,a.kt)("h2",{id:"description"},"Description"),(0,a.kt)("p",null,"Helm chart dependecies are defined in the ",(0,a.kt)("inlineCode",{parentName:"p"},"Chart.yaml")," file. They are used to provide additional software to the application that is required for running. The intent of this section is to align the versions of specific widely used dependencies so all product teams will use the same. This can lead to better parity and will grant the opportunity to probably use a single instane of these dependencies that can be shared among all products in the future."),(0,a.kt)("h2",{id:"helm-dependency-example"},"Helm dependency example"),(0,a.kt)("p",null,"An example dependency definition in the ",(0,a.kt)("inlineCode",{parentName:"p"},"Chart.yaml")," file:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"dependencies:\n  - condition: postgresql.enabled\n    alias: product-name-postgresql\n    name: postgresql\n    repository: https://charts.bitnami.com/bitnami\n    version: 11.x.x\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Usage of condition, alias and version properties are optional but highly recommended"),(0,a.kt)("li",{parentName:"ul"},"Add a unique alias as name to your dependency that corresponds with your product name"),(0,a.kt)("li",{parentName:"ul"},"With the condition, dependencies can be disabled/enabled on demand")),(0,a.kt)("h2",{id:"installing-a-chart-with-dependencies"},"Installing a chart with dependencies"),(0,a.kt)("p",null,"The following commands have to run before installing the chart if it has dependencies:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"helm repo add [REPO_URL] //for example: https://charts.bitnami.com/bitnami\nhelm dependency update\n")),(0,a.kt)("p",null,"Then the install can be done with ",(0,a.kt)("inlineCode",{parentName:"p"},"helm install [NAME] [CHART] [flags]")),(0,a.kt)("h2",{id:"aligning-dependency-versions"},"Aligning dependency versions"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Name"),(0,a.kt)("th",{parentName:"tr",align:null},"Repo URL"),(0,a.kt)("th",{parentName:"tr",align:null},"Chart version"),(0,a.kt)("th",{parentName:"tr",align:null},"App version"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"postgresql"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://charts.bitnami.com/bitnami"},"Bitnami")),(0,a.kt)("td",{parentName:"tr",align:null},"11.x.x"),(0,a.kt)("td",{parentName:"tr",align:null},"14.5.0")))))}c.isMDXComponent=!0}}]);